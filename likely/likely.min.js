/*!
 * Likely 3.2.0 by Nikolay Rys (linkedin.com/in/nikolay-rys), Ilya Birman (ilyabirman.net), and contributors.
 * Special thanks to Viktor Karpov (twitter.com/vitkarpov), Ivan Akulov (iamakulov.com), Evgeny Steblinsky (volter9.github.io), and Artem Sapegin (sapegin.me).
 */
!function (t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.likely = e() : t.likely = e()
}("undefined" != typeof self ? self : this, (() => (() => {
    var t = {
        785: (t, e, r) => {
            "use strict";
            r.d(e, {Z: () => n});
            const n = {name: "likely", prefix: "likely__"}
        }, 833: (t, e, r) => {
            "use strict";
            r.r(e), r.d(e, {
                createNode: () => s,
                find: () => u,
                findAll: () => l,
                global: () => o,
                loadJSONP: () => c,
                openPopup: () => p,
                wrapSVG: () => a
            });
            var n = r(174), o = n.isBrowserEnv ? window : {}, i = n.isBrowserEnv ? document.createElement("div") : {},
                a = function (t) {
                    return '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M' + t + 'z"/></svg>'
                }, s = function (t) {
                    return i.innerHTML = t, i.children[0]
                }, c = function (t) {
                    var e = document.createElement("script"), r = document.head;
                    e.type = "text/javascript", e.src = t, r.appendChild(e), r.removeChild(e)
                }, u = function (t, e) {
                    return (e || document).querySelector(t)
                }, l = function (t, e) {
                    return Array.prototype.slice.call((e || document).querySelectorAll(t))
                }, p = function (t, e, r, n) {
                    var o = Math.round(screen.width / 2 - r / 2), i = 0;
                    screen.height > n && (i = Math.round(screen.height / 3 - n / 2));
                    var a = "left=" + o + ",top=" + i + ",width=" + r + ",height=" + n + ",personalbar=0,toolbar=0,scrollbars=1,resizable=1",
                        s = window.open(t, e, a);
                    return s ? (s.focus(), s) : (location.href = t, null)
                }
        }, 164: (t, e, r) => {
            "use strict";
            r.d(e, {Z: () => a});
            var n = [], o = function () {
                n.forEach((function (t) {
                    t()
                }))
            }, i = !1;
            const a = {
                onUrlChange: function (t) {
                    i || (!function () {
                        var t = window.history.pushState;
                        window.history.pushState = function () {
                            return setTimeout(o, 0), t.apply(window.history, arguments)
                        };
                        var e = window.history.replaceState;
                        window.history.replaceState = function () {
                            return setTimeout(o, 0), e.apply(window.history, arguments)
                        }, window.addEventListener("popstate", o)
                    }(), i = !0), n.push(t)
                }
            }
        }, 864: (t, e, r) => {
            var n = r(174), o = n.getBools, i = n.getDefaultUrl, a = n.mergeToNew, s = r(403).Z, c = r(785).Z,
                u = r(833).findAll, l = r(164).Z, p = r(917).Z, h = {
                    initiate: function (t, e) {
                        var r, n;

                        function p() {
                            r.forEach((function (t) {
                                !function (t, e) {
                                    var r = e || {},
                                        n = {counters: !0, timeout: 1e3, zeroes: !1, title: document.title, url: i()},
                                        u = a(n, r, o(t)), l = t[c.name];
                                    l ? l.update(u) : t[c.name] = new s(t, u)
                                }(t, n)
                            }))
                        }

                        Array.isArray(t) ? (r = t, n = e) : t instanceof Node ? (r = [t], n = e) : (r = u(".".concat(c.name)), n = t), this.maintainStoredData(n), p(), l.onUrlChange(p)
                    }, maintainStoredData: function (t) {
                        t && t.forceUpdate && Object.keys(p).forEach((function (t) {
                            p[t].resetBroadcasters()
                        }))
                    }
                };
            t.exports = h
        }, 106: (t, e, r) => {
            r(473);
            var n = r(864);
            window.addEventListener("load", (function () {
                n.initiate()
            })), t.exports = n
        }, 917: (t, e, r) => {
            "use strict";
            r.d(e, {Z: () => d});
            var n = r(833);

            function o(t) {
                var e = this, r = new XMLHttpRequest;
                r.onreadystatechange = function () {
                    if (4 === r.readyState && 200 === r.status) {
                        var n = "function" == typeof e.convertNumber ? e.convertNumber(r.responseText) : r.responseText;
                        t.trigger(n)
                    }
                }, r.open("GET", t.url, !0), r.send()
            }

            function i() {
                this.broadcastersByUrl = {}
            }

            const a = {
                counterUrl: "https://graph.facebook.com/?id={url}&access_token=1729830587180291|102e6d79cda2fa63b65c99c039eed12a&fields=og_object%7Bengagement%7Bcount%7D%7D",
                convertNumber: function (t) {
                    var e = JSON.parse(t).og_object;
                    return e ? e.engagement.count : 0
                },
                popupWidth: 555,
                popupHeight: 555,
                popupUrl: "https://www.facebook.com/sharer.php?u={url}",
                knownParams: ["url", "hashtag", "counter"],
                svgIconPath: "16.000,8.049 C16.000,3.629 12.418,0.047 8.000,0.047 C3.582,0.047 -0.000,3.629 -0.000,8.049 C-0.000,12.043 2.925,15.353 6.750,15.953 L6.750,10.362 L4.719,10.362 L4.719,8.049 L6.750,8.049 L6.750,6.286 C6.750,4.280 7.944,3.173 9.772,3.173 C10.647,3.173 11.563,3.329 11.563,3.329 L11.563,5.298 L10.554,5.298 C9.560,5.298 9.250,5.915 9.250,6.548 L9.250,8.049 L11.469,8.049 L11.114,10.362 L9.250,10.362 L9.250,15.953 C13.075,15.353 16.000,12.043 16.000,8.049"
            };
            var s = r(174);
            var p = {
                popupWidth: 650,
                popupHeight: 570,
                counterUrl: "https://vk.com/share.php?act=count&url={url}&index={index}",
                fetch: function (t) {
                    var e = Object.keys(this.broadcastersByUrl).length - 1;
                    (0, n.loadJSONP)((0, s.interpolateUrl)(t.url, {index: e}))
                },
                popupUrl: "https://vk.com/share.php?url={url}&title={title}",
                knownParams: ["url", "title", "image", "comment", "counter"],
                svgIconPath: "8.71453 12.9837C3.24794 12.9837 0.129919 9.23611 0 3H2.73828C2.82823 7.57714 4.84693 9.51592 6.44591 9.91565V3H9.02439V6.94751C10.6034 6.77762 12.2622 4.97876 12.8218 3H15.4003C14.9705 5.43847 13.1717 7.23734 11.8925 7.97687C13.1717 8.5765 15.2205 10.1455 16 12.9837H13.1617C12.5521 11.0849 11.0331 9.61584 9.02439 9.41597V12.9837H8.71453"
            };
            (0, s.registerGlobalCallback)("VK.Share.count", (function (t, e) {
                var r = p.broadcastersByUrl;
                r[Object.keys(r)[t]].trigger(e)
            }));

            function h(t, e) {
                return function (t) {
                    if (Array.isArray(t)) return t
                }(t) || function (t, e) {
                    var r = null == t ? null : "undefined" != typeof Symbol && t[Symbol.iterator] || t["@@iterator"];
                    if (null != r) {
                        var n, o, i, a, s = [], c = !0, u = !1;
                        try {
                            if (i = (r = r.call(t)).next, 0 === e) {
                                if (Object(r) !== r) return;
                                c = !1
                            } else for (; !(c = (n = i.call(r)).done) && (s.push(n.value), s.length !== e); c = !0) ;
                        } catch (t) {
                            u = !0, o = t
                        } finally {
                            try {
                                if (!c && null != r.return && (a = r.return(), Object(a) !== a)) return
                            } finally {
                                if (u) throw o
                            }
                        }
                        return s
                    }
                }(t, e) || function (t, e) {
                    if (!t) return;
                    if ("string" == typeof t) return f(t, e);
                    var r = Object.prototype.toString.call(t).slice(8, -1);
                    "Object" === r && t.constructor && (r = t.constructor.name);
                    if ("Map" === r || "Set" === r) return Array.from(t);
                    if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return f(t, e)
                }(t, e) || function () {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }

            function f(t, e) {
                (null == e || e > t.length) && (e = t.length);
                for (var r = 0, n = new Array(e); r < e; r++) n[r] = t[r];
                return n
            }

            var C = {
                facebook: a,
                vkontakte: p
            };
            Object.entries(C).forEach((function (t) {
                var e, r = h(t, 2), a = r[0], s = r[1];
                (e = s).fetch = n.global.__likelyFetchMock || e.fetch || o, e.urlCallback = e.urlCallback || function () {
                }, e.knownParams = e.knownParams || [], e.openPopup = void 0 === e.openPopup || e.openPopup, e.resetBroadcasters = i, e.resetBroadcasters(), s.name = a
            }));
            const d = C
        }, 174: (t, e, r) => {
            "use strict";

            function n(t, e, r) {
                var n;
                return n = function (t, e) {
                    if ("object" != o(t) || !t) return t;
                    var r = t[Symbol.toPrimitive];
                    if (void 0 !== r) {
                        var n = r.call(t, e || "default");
                        if ("object" != o(n)) return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }
                    return ("string" === e ? String : Number)(t)
                }(e, "string"), (e = "symbol" == o(n) ? n : String(n)) in t ? Object.defineProperty(t, e, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : t[e] = r, t
            }

            function o(t) {
                return o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                }, o(t)
            }

            r.r(e), r.d(e, {
                extendWith: () => c,
                getBools: () => l,
                getDataset: () => u,
                getDefaultUrl: () => C,
                interpolateStr: () => p,
                interpolateUrl: () => h,
                isBrowserEnv: () => d,
                mergeToNew: () => s,
                registerGlobalCallback: () => f,
                renameKey: () => v,
                toArray: () => a
            });
            var i = {yes: !0, no: !1};
            Object.entries || (Object.entries = function (t) {
                for (var e = Object.keys(t), r = e.length, n = new Array(r); r--;) n[r] = [e[r], t[e[r]]];
                return n
            });
            var a = function (t) {
                    return Array.prototype.slice.call(t)
                }, s = function () {
                    for (var t = {}, e = Array.prototype.slice.call(arguments), r = 0; r < e.length; r++) {
                        var n = e[r];
                        if (n) for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o])
                    }
                    return t
                }, c = function (t, e) {
                    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                    return t
                }, u = function (t) {
                    if ("object" === o(t.dataset)) return t.dataset;
                    var e, r, n = {}, i = t.attributes, a = function (t) {
                        return t.charAt(1).toUpperCase()
                    };
                    for (e = i.length - 1; e >= 0; e--) (r = i[e]) && r.name && /^data-\w[\w-]*$/.test(r.name) && (n[r.name.substr(5).replace(/-./g, a)] = r.value);
                    return n
                }, l = function (t) {
                    var e = {}, r = u(t);
                    for (var n in r) if (Object.prototype.hasOwnProperty.call(r, n)) {
                        var o = r[n];
                        e[n] = o in i ? i[o] : o
                    }
                    return e
                }, p = function (t, e) {
                    return t ? t.replace(/\{([^}]+)}/g, (function (t, r) {
                        return r in e ? e[r] : t
                    })) : ""
                }, h = function (t, e) {
                    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (e[r] = encodeURIComponent(e[r]));
                    return p(t, e)
                }, f = function (t, e) {
                    var n = t.split("."), o = null, i = r.g;
                    n.forEach((function (t, e) {
                        void 0 === i[t] && (i[t] = {}), e !== n.length - 1 && (i = i[t]), o = t
                    })), i[o] = e
                }, C = function () {
                    var t = document.querySelector('link[rel="canonical"]');
                    return t ? t.href : window.location.href.replace(window.location.hash, "")
                }, d = "undefined" != typeof window && "undefined" != typeof document && document.createElement,
                v = function (t, e, r) {
                    Object.prototype.hasOwnProperty.call(t, e) && delete Object.assign(t, n({}, r, t[e]))[e]
                }
        }, 403: (t, e, r) => {
            "use strict";
            r.d(e, {Z: () => y});
            var n = r(833), o = r(174), i = r(785);

            function a(t, e) {
                this.url = (0, o.interpolateUrl)(t, {url: e}), this.setters = [], this.value = void 0
            }

            a.prototype.register = function (t) {
                this.setters.push(t), this.value && t(this.value)
            }, a.prototype.trigger = function (t) {
                this.value = t, this.setters.forEach((function (e) {
                    e(t)
                }))
            };
            var s = r(917);

            function c(t) {
                return c = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                }, c(t)
            }

            function u(t, e) {
                for (var r = 0; r < e.length; r++) {
                    var n = e[r];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, l(n.key), n)
                }
            }

            function l(t) {
                var e = function (t, e) {
                    if ("object" != c(t) || !t) return t;
                    var r = t[Symbol.toPrimitive];
                    if (void 0 !== r) {
                        var n = r.call(t, e || "default");
                        if ("object" != c(n)) return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }
                    return ("string" === e ? String : Number)(t)
                }(t, "string");
                return "symbol" == c(e) ? e : String(e)
            }

            var p = '<span class="{className}">{content}</span>', h = function () {
                function t(e, r, n) {
                    !function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), this.widget = e, this.likely = r, this.options = (0, o.mergeToNew)(n), this.detectService(), this.isConnected() && this.detectParams()
                }

                var e, r, c;
                return e = t, r = [{
                    key: "isConnected", value: function () {
                        return void 0 !== this.options.service
                    }
                }, {
                    key: "isUnrecognized", value: function () {
                        return !this.isConnected() && !this.options.foreign
                    }
                }, {
                    key: "prepare", value: function () {
                        this.isConnected() && (this.initHtml(), this.registerAsCounted())
                    }
                }, {
                    key: "update", value: function (t) {
                        var e = ".".concat(i.Z.prefix, "counter"), r = (0, n.findAll)(e, this.widget);
                        (0, o.extendWith)(this.options, (0, o.mergeToNew)({forceUpdate: !1}, t)), r.forEach((function (t) {
                            t.parentNode.removeChild(t)
                        })), this.wireClick(), this.registerAsCounted()
                    }
                }, {
                    key: "detectService", value: function () {
                        var t = (0, o.toArray)(this.widget.classList), e = t.filter((function (t) {
                            return Object.prototype.hasOwnProperty.call(s.Z, t)
                        }))[0];
                        e ? this.options.service = s.Z[e] : t.includes("likely__widget") && (this.options.foreign = !0)
                    }
                }, {
                    key: "detectParams", value: function () {
                        var t = this.options;
                        this.data = (0, o.getDataset)(this.widget), this.data.counter && (t.staticCounter = this.data.counter), this.data.url && (t.url = this.data.url), this.data.title && (t.title = this.data.title)
                    }
                }, {
                    key: "initHtml", value: function () {
                        var t = this.widget, e = t.innerHTML, r = document.createElement("a");
                        r.innerHTML = t.innerHTML, r.className = t.className, void 0 !== t.getAttribute("role") && r.setAttribute("role", t.getAttribute("role")), void 0 !== t.getAttribute("aria-label") && r.setAttribute("aria-label", t.getAttribute("aria-label")), t.parentNode.replaceChild(r, t), this.widget = r;
                        var i = this.widget;
                        i.classList.remove(this.options.service.name), i.className += "".concat(this.className("widget")), this.wireClick();
                        var a = (0, o.interpolateStr)(p, {className: this.className("button"), content: e}),
                            s = (0, o.interpolateStr)(p, {
                                className: this.className("icon"),
                                content: (0, n.wrapSVG)(this.options.service.svgIconPath)
                            });
                        i.innerHTML = s + a
                    }
                }, {
                    key: "wireClick", value: function () {
                        var t = this.buildUrl(this.options);
                        this.widget.setAttribute("href", t), this.widget.addEventListener("click", this.shareClick(t).bind(this))
                    }
                }, {
                    key: "registerAsCounted", value: function () {
                        var t = this.options;
                        t.counters && t.service.counterUrl && (t.staticCounter ? this.setDisplayedCounter(t.staticCounter) : function (t, e) {
                            var r = e.service.broadcastersByUrl[e.url];
                            r || (r = new a(e.service.counterUrl, e.url), e.service.broadcastersByUrl[e.url] = r, e.service.fetch(r)), r.register(t)
                        }(this.setDisplayedCounter.bind(this), t))
                    }
                }, {
                    key: "className", value: function (t) {
                        var e = i.Z.prefix + t;
                        return "".concat(e, " ").concat(e, "_").concat(this.options.service.name)
                    }
                }, {
                    key: "setDisplayedCounter", value: function (t) {
                        var e = parseInt(t, 10) || 0, r = (0, n.find)(".".concat(i.Z.name, "__counter"), this.widget);
                        r && r.parentNode.removeChild(r);
                        var a = {className: this.className("counter"), content: e};
                        e || this.options.zeroes || (a.className += " ".concat(i.Z.prefix, "counter_empty"), a.content = ""), this.widget.appendChild((0, n.createNode)((0, o.interpolateStr)(p, a))), this.likely.finalize()
                    }
                }, {
                    key: "buildUrl", value: function (t) {
                        var e = this;
                        t.service.urlCallback.call(this);
                        var r = (0, o.interpolateUrl)(t.service.popupUrl, {url: t.url, title: t.title}), n = [];
                        this.options.service.knownParams.forEach((function (t) {
                            "url" !== t && "title" !== t && "counter" !== t && t in e.data && n.push("".concat(encodeURIComponent(t), "=").concat(encodeURIComponent(e.data[t])))
                        }));
                        var i = n.join("&"), a = -1 === r.indexOf("?") ? "?" : "&";
                        return "" === i ? r : r + a + i
                    }
                }, {
                    key: "shareClick", value: function (t) {
                        return function (e) {
                            var r = this.options;
                            return !0 !== r.service.openPopup || (e.preventDefault(), (0, n.openPopup)(t, i.Z.prefix + this.options.service.name, r.service.popupWidth, r.service.popupHeight), !1)
                        }
                    }
                }], r && u(e.prototype, r), c && u(e, c), Object.defineProperty(e, "prototype", {writable: !1}), t
            }();
            const f = h;

            function C(t) {
                return C = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
                    return typeof t
                } : function (t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                }, C(t)
            }

            function d(t, e) {
                for (var r = 0; r < e.length; r++) {
                    var n = e[r];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, v(n.key), n)
                }
            }

            function v(t) {
                var e = function (t, e) {
                    if ("object" != C(t) || !t) return t;
                    var r = t[Symbol.toPrimitive];
                    if (void 0 !== r) {
                        var n = r.call(t, e || "default");
                        if ("object" != C(n)) return n;
                        throw new TypeError("@@toPrimitive must return a primitive value.")
                    }
                    return ("string" === e ? String : Number)(t)
                }(t, "string");
                return "symbol" == C(e) ? e : String(e)
            }

            const y = function () {
                function t(e, r) {
                    !function (t, e) {
                        if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), this.container = e, this.options = r, this.countersLeft = 0, this.buttons = [], (0, o.toArray)(this.container.children).forEach(this.addButton.bind(this)), this.container.classList.add("".concat(i.Z.name, "_visible")), this.options.counters ? this.readyDelay = setTimeout(this.ready.bind(this), this.options.timeout) : this.ready(), this.materializeButtons()
                }

                var e, r, n;
                return e = t, (r = [{
                    key: "addButton", value: function (t) {
                        var e = new f(t, this, this.options);
                        e.isConnected() ? (this.buttons.push(e), e.options.service.counterUrl && this.countersLeft++) : e.isUnrecognized() && console.warn("A button without a valid service detected, please check button classes.")
                    }
                }, {
                    key: "materializeButtons", value: function () {
                        this.buttons.forEach((function (t) {
                            return t.prepare()
                        }))
                    }
                }, {
                    key: "update", value: function (t) {
                        (t.forceUpdate || t.url && t.url !== this.options.url) && (this.countersLeft = this.buttons.length, this.buttons.forEach((function (e) {
                            e.update(t)
                        })))
                    }
                }, {
                    key: "finalize", value: function () {
                        this.countersLeft--, 0 === this.countersLeft && (clearTimeout(this.readyDelay), this.ready())
                    }
                }, {
                    key: "ready", value: function () {
                        this.container.classList.remove("".concat(i.Z.name, "_visible")), this.container.classList.add("".concat(i.Z.name, "_ready"))
                    }
                }]) && d(e.prototype, r), n && d(e, n), Object.defineProperty(e, "prototype", {writable: !1}), t
            }()
        }, 473: (t, e, r) => {
            "use strict";
            r.r(e)
        }
    }, e = {};

    function r(n) {
        var o = e[n];
        if (void 0 !== o) return o.exports;
        var i = e[n] = {exports: {}};
        return t[n](i, i.exports, r), i.exports
    }

    return r.d = (t, e) => {
        for (var n in e) r.o(e, n) && !r.o(t, n) && Object.defineProperty(t, n, {enumerable: !0, get: e[n]})
    }, r.g = function () {
        if ("object" == typeof globalThis) return globalThis;
        try {
            return this || new Function("return this")()
        } catch (t) {
            if ("object" == typeof window) return window
        }
    }(), r.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e), r.r = t => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {value: "Module"}), Object.defineProperty(t, "__esModule", {value: !0})
    }, r(106)
})()));
//# sourceMappingURL=likely.min.js.map